<div class="container">
  <form  class="input-group col-lg-12" (ngSubmit)="createTask(task); taskForm.reset()"
        #taskForm='ngForm'>
    <div class="form-group">
      <label for="title">
        <h3>Task Title</h3>
      </label>
      <input type="text" id="title"
             class="form-control"
             required
             name="title"
             placeholder="Task Title"
             #title='ngModel'
             [(ngModel)]='task.title'>
      <div [hidden]='title.valid || title.pristine'
           class="alert alert-danger">
        Title is required
      </div>
    </div>
    <div>
      <label for="description">
        <h3>Describe your task</h3>
      </label>
      <textarea
        class="form-control"
        id="description"
        required
        name="description"
        #description='ngModel'
        [(ngModel)]='task.description'>
        </textarea>
      <div [hidden]='description.valid || description.pristine'
           class="alert alert-danger">
        Description is required
      </div>
    </div>
    <label for="priority">
      <h3>Priority for your task</h3>
    </label>
    <input type="number" id="priority"
           required
           class="form-control"
           name="priority"
           placeholder="Task priority"
           #priority='ngModel'
           [(ngModel)]='task.priority'>
    <br>
    <br>

    <h3>Expiration date for your task</h3>
    <br>

    <my-date-picker
      id="due_date"
      [options]="myDatePickerOptions"
      name="due_date"
      #due_date='ngModel'
      [(ngModel)]='task.due_date'
      (dateChanged)="onDateChanged($event)">
    </my-date-picker>
    <button type="submit" class="btn btn-primary"
            [disabled]="!taskForm.form.valid"
            [hidden]='submitted'>
      Create task
    </button>
    <div [hidden]='!submitted'
         class="alert alert-success"
         role="alert">Your task hes been successfully created
      <a class="alert-link" routerLink='/tasks'>View all Tasks</a>
    </div>
  </form>
 </div>
